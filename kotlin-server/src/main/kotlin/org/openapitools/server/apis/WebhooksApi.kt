/**
* Zulip REST API
* Powerful open source group chat 
*
* The version of the OpenAPI document: 1.0.0
* 
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
package org.openapitools.server.apis

import com.google.gson.Gson
import io.ktor.application.*
import io.ktor.auth.*
import io.ktor.http.*
import io.ktor.response.*
import org.openapitools.server.Paths
import io.ktor.locations.*
import io.ktor.routing.*
import org.openapitools.server.infrastructure.ApiPrincipal
import org.openapitools.server.models.InlineResponse200

@KtorExperimentalLocationsAPI
fun Route.WebhooksApi() {
    val gson = Gson()
    val empty = mutableMapOf<String, Any?>()

    post<Paths.zulipOutgoingWebhooks> {
        val exampleContentType = "application/json"
        val exampleContentString = """{
          "data" : "@**Outgoing webhook test** Zulip is the world’s most productive group chat!",
          "trigger" : "mention",
          "token" : "xvOzfurIutdRRVLzpXrIIHXJvNfaJLJ0",
          "message" : {
            "subject" : "Verona2",
            "sender_email" : "iago@zulip.com",
            "timestamp" : 1527876931,
            "client" : "website",
            "submessages" : [ ],
            "recipient_id" : 20,
            "topic_links" : [ ],
            "sender_full_name" : "Iago",
            "avatar_url" : "https://secure.gravatar.com/avatar/1f4f1575bf002ae562fea8fc4b861b09?d=identicon&version=1",
            "rendered_content" : "<p><span class=\"user-mention\" data-user-id=\"25\">@Outgoing webhook test</span> Zulip is the world’s most productive group chat!</p>",
            "sender_id" : 5,
            "stream_id" : 5,
            "content" : "@**Outgoing webhook test** Zulip is the world’s most productive group chat!",
            "display_recipient" : "Verona",
            "type" : "stream",
            "id" : 112,
            "is_me_message" : false,
            "reactions" : [ ],
            "sender_realm_str" : "zulip"
          },
          "bot_email" : "outgoing-bot@localhost",
          "bot_full_name" : "Outgoing webhook test"
        }"""
        
        when (exampleContentType) {
            "application/json" -> call.respond(gson.fromJson(exampleContentString, empty::class.java))
            "application/xml" -> call.respondText(exampleContentString, ContentType.Text.Xml)
            else -> call.respondText(exampleContentString)
        }
    }

}
